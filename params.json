{"name":"Trak.js","tagline":"Universal event tracking API","body":"[![Build Status](https://travis-ci.org/tmwagency/trak.js.svg)](https://travis-ci.org/tmwagency/trak.js) [![Code Climate](https://codeclimate.com/github/tmwagency/trak.js.png)](https://codeclimate.com/github/tmwagency/trak.js)\r\n# trak.js - Universal analytics event tracking API\r\n**trak.js** is a API wrapper for your analytics APIs. By default it uses the Google Universal Analytics but you can override this witht the older ga.js or Google Tag Manager if you wish. You can even add custom event trackers as well as, or instead of GA.\r\n\r\n## Getting the Library\r\n### Direct downloads\r\n- [Minified](https://raw.githubusercontent.com/tmwagency/trak.js/master/dist/trak.min.js) (~481 B gzipped)\r\n- [Unminified](https://raw.githubusercontent.com/tmwagency/trak.js/master/dist/trak.js) (~1.7 KB gzipped)\r\n\r\n### Bower\r\n`bower install trak`\r\n\r\n## Usage:\r\nInclude **trak.js** in your JavaScript bundle or add it to your HTML page like this:\r\n```html\r\n<script type='application/javascript' src='/path/to/trak.js'></script>\r\n```\r\nthen run `trak();` when the DOM is ready:\r\n```js\r\n// Native JS\r\ndocument.addEventListener('DOMContentLoaded', function(e) {\r\n\ttrak();\r\n}\r\n\r\n// jQuery\r\n$(function(){\r\n\ttrak();\r\n});\r\n```\r\n\r\n# API Reference\r\nThere are two main ways to use **trak.js**, in your js code or as data-* attributes in your markup.\r\n\r\n## JS implementation:\r\n### trak.event(category, action, label [, options])\r\n\r\nFires an analytics event\r\n\r\n#### Arguments:\r\n*category*: A string value of the category value to set<br> \r\n*action*: A string value of the action value to set<br> \r\n*label*: A string value of the label value to set<br> \r\n*extendedOptions*: An object containing additional parameters for more advanced analytics events. \r\n\r\n#### The 'extendedOptions' Object:\r\n*value*: An integer<br>\r\n*nonInteraction*: An integer<br> \r\n*eventName*: A string value used only with Google Tag Manager. Define your GTM event name here\r\n\r\nIf any property is left `undefined`, the browser's default value will be used instead.\r\n\r\n```js\r\ntrak.event('category', 'action');\r\ntrak.event('category', 'action', 'label');\r\ntrak.event('category', 'action', 'label', extendedOptions);\r\n```\r\n##### Example:\r\n```js\r\ntrak.event('engagement', 'signpost', 'page.href');\r\ntrak.event('engagement', 'signpost', 'page.href', {\r\n  value: 10,\r\n  nonInteraction: true,\r\n  eventName: 'This is a Google Tag Manager event name'\r\n});\r\n```\r\n\r\n### Data-* attr implementation:\r\n```html\r\n<a href=\"#\" data-trak='{\"category\":\"Rating\",\"action\":\"Comparison notepad\",\"label\":\"Up\"}'>link</a>\r\n\r\n<!-- With an extended option -->\r\n<a href=\"#pagehref\" title=\"1 title\" data-trak='{\"category\":\"Test category\",\"action\":\"Test action\",\"label\":\"Test label\",\"options\":{\"eventName\":\"Event name test\"}}'>Data attr test #1</a>\r\n```\r\n\r\n## Extended options\r\nThese can be used \r\n\r\n#### data-trak wildcards:\r\nWildcards can be used to specify certain options like the page title or url. \r\n##### page.href: Uses `window.location.href`\r\n```html\r\n<a href=\"#\" data-trak='{\"category\":\"Rating\",\"action\":\"page.href\",\"label\":\"Up\"}'>link</a>\r\n``` \r\n##### page.title: Uses `document.title`\r\n```html\r\n<a href=\"#\" data-trak='{\"category\":\"Rating\",\"action\":\"page.title\",\"label\":\"Up\"}'>link</a>\r\n```\r\n##### link.href: Uses `this.href`\r\n```html\r\n<a href=\"#\" data-trak='{\"category\":\"Rating\",\"action\":\"link.href\",\"label\":\"Up\"}'>link</a>\r\n```\r\n##### link.title: Uses `this.title`\r\n```html\r\n<a href=\"#\" data-trak='{\"category\":\"Rating\",\"action\":\"link.title\",\"label\":\"Up\"}'>link</a>\r\n```\r\n##### referrer: Uses `document.referrer`\r\n```html\r\n<a href=\"#\" data-trak='{\"category\":\"Rating\",\"action\":\"document.referrer\",\"label\":\"Up\"}'>link</a>\r\n```\r\n\r\n--- \r\n\r\n### Options\r\nVarious default **trak.js** options can be overridden:\r\n\r\n#### trak.options.clean\r\nType: `boolean`  \r\nDefault: `true`\r\n\r\nChoose whether you'd like to clean the provided category, action and labels\r\n\r\n#### trak.options.delimeter\r\nType: `string`  \r\nDefault: `_`\r\n\r\n**trak.js** includes a cleaning method to normalise the arguments that are passed to it. Spaces are converted to an underscore by default but can be overridden by reassigning this value.\r\n\r\n#### trak.options.trackType\r\nType: `string`  \r\nDefault: `ga`\r\nAlternatives: \r\n* `ga` : Google Analytics (Universal \r\n* `_gaq` : Google Analytics (ga.js) Old version\r\n* `gtm` : Google Tag Manager\r\n\r\nUse this to change your default tracking provider.\r\n\r\n#### trak.options.additionalTypes\r\nType: `function`  \r\nDefault: `undefined`\r\n\r\nAdd any other event tracking providers. See below for example:\r\n\r\n```js\r\ntrak.options.additionalTypes = function() {\r\n\tUDM.evq.push(['trackEvent', trak.clean(category), trak.clean(action)]); // trak.clean(label)\r\n\tconsole.log('Fire additional event');\r\n}\r\n```\r\n\r\n#### trak.options.debug\r\nType: `boolean`  \r\nDefault: `false`\r\n\r\nShow debug logs in the js console\r\n\r\n--- \r\n\r\n## Which tracking API's are used?\r\nThe default implementation uses latest version of Google Analytics (`ga.js`) but **trak.js** also supports the older `_gaq` type or Google Tag Manager.\r\n\r\n---\r\n## Browser Compatibility\r\ntrak.js has been tested in the following browsers:\r\n- Chrome\r\n- Firefox 3+\r\n- Opera 10+\r\n- Internet Explorer 8+\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}