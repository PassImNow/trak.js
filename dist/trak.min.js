/* trak.js v0.2.3 | (c) 2014 @mrmartineau | https://github.com/tmwagency/trak.js
   Universal event tracking API. */
var trak=function(){"use strict";var a=function(a){return a?trak.options.clean?a.toString().replace(/\s|'|"/g,g.delimeter).toLowerCase():a:""},b=function(b,c,d,e){e=f(e),"ga"===g.trackType&&"undefined"!=typeof ga?ga("send","event",a(b),a(c),a(d),e.value,{nonInteraction:e.nonInteraction}):"_gaq"===g.trackType&&"undefined"!=typeof _gaq?_gaq.push(["_trackEvent",a(b),a(c),a(d),e.value]):"gtm"===g.trackType&&"undefined"!=typeof dataLayer&&dataLayer.push({event:e.eventName,eventCategory:a(b),eventAction:a(c),eventLabel:a(d),eventValue:e.value}),void 0!==g.additionalTypes&&g.additionalTypes(),g.debug&&console.log("Debug:\n Category:",a(b),"\n Action:",a(c),"\n Label:",a(d),"\n Extended options:",e)},c=function(){var a=null!==this.getAttribute("data-trakwithjs")?!0:!1;a||d.call(this)},d=function(){var a=JSON.parse(this.getAttribute("data-trak")),c=e.call(this,a.category),d=e.call(this,a.action),f=e.call(this,a.label),g=a.options;b(c,d,f,g)},e=function(a){var b;switch(a){case"page.title":b=document.title;break;case"page.href":b=window.location.href;break;case"link.href":b=this.href;break;case"link.title":b=this.title;break;case"referrer":b=document.referrer?document.referrer:"No referrer";break;default:b=a}return b},f=function(a){return{value:a&&a.value||0,nonInteraction:a&&a.nonInteraction||!1,eventName:a&&a.eventName||void 0}},g={clean:!0,delimeter:"_",trackType:"ga",additionalTypes:void 0,debug:!1},h=function(){console.log("trak started");for(var a=document.querySelectorAll("[data-trak]"),b=0;b<a.length;b++)a[b].addEventListener?a[b].addEventListener("click",c):a[b].attachEvent&&a[b].attachEvent("onclick",c)};return{start:h,clean:a,event:b,attrEvent:d,wildcard:e,options:g}}();"undefined"!=typeof define&&define.amd?define(function(){"use strict";return trak}):"undefined"!=typeof module&&module.exports?module.exports=trak:window.trak=trak;