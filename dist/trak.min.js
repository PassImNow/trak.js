/*!  v0.2.0 | (c) 2014 @mrmartineau | https://github.com/tmwagency/trak.js */
function Trak(){"use strict";function a(){var a=JSON.parse(this.getAttribute("data-trak"));var b=d.call(this,a.category);var c=d.call(this,a.action);var e=d.call(this,a.label);Trak.event(b,c,e)}var b=document.querySelectorAll("[data-trak]");for(var c=0;c<b.length;c++){if(b[c].addEventListener){b[c].addEventListener("click",a,true)}else if(b[c].attachEvent){b[c].attachEvent("onclick",a)}}function d(a){var b;switch(a){case"page.title":b=document.title;break;case"page.href":b=window.location.href;break;case"link.href":b=this.href;break;case"link.title":b=this.title;break;default:b=Trak.clean(a);break}return b}}Trak.clean=function(a){return a.toString().replace(/\s|'|"/g,this.options.delimeter).toLowerCase()};Trak.event=function(a,b,c,d,e){d=d||0;e=e||false;if(Trak.options.trackType==="ga"&&typeof ga!=="undefined"){ga("send","event",Trak.clean(a),Trak.clean(b),Trak.clean(c),d,{nonInteraction:e})}else if(Trak.options.trackType==="_gaq"&&typeof _gaq!=="undefined"){_gaq.push(["_trackEvent",Trak.clean(a),Trak.clean(b),Trak.clean(c),d])}};Trak.options={delimeter:"_",trackType:"ga",additionalTypes:function(){}};document.addEventListener("DOMContentLoaded",function(a){new Trak});